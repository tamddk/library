<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Project Gabut By Mas Sodik, Silahkan Download Langusung Gaes - tamddk/gabut atau Hub Mas Sodik di Instagram: @tamddk/@project_sodik"
    />

    <title>SODIK DEMO - Notification Custom Web</title>

    <link
      rel="shortcut icon"
      href="https://avatars.githubusercontent.com/u/111125963?v=4"
      type="image/x-icon"
    />

    <link
      rel="stylesheet"
      href="https://tamddk.github.io/library/assets/donate/donate.sodik.css"
    />
  </head>
  <body>
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
      <thead
        class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400"
      >
        <tr>
          <th scope="col" class="px-6 py-3">Title</th>
          <th scope="col" class="px-6 py-3">Access</th>
        </tr>
      </thead>
      <tbody>
        <tr
          class="bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"
        >
          <th
            scope="row"
            class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"
          >
            Notification :
          </th>
          <td id="notif-sodik" class="px-6 py-4"></td>
        </tr>
      </tbody>
    </table>
    <script>
      // Notification.requestPermission()

      _sdk_run = () => {
        if ("Notification" in window) {
          Notification.requestPermission(_sdk_permission);
          // The Notification interface of the Notifications API is used to configure and display desktop notifications to the user.
        }
      };

      _sdk_permission = (permission) => {
        if (permission != "granted") {
          // If Acces denied
          _sdk_permissionError(); // Display Error
          return;
        } else {
          // Access accepted
          _sdk_permissionSuccess(); // Display Success
          return;
        }
      };

      _sdk_permissionSuccess = () => {
        const notification = new Notification("Project Sodik", {
          // "Project" Sodik Text Display Notif
          body: "Sodik: Access approved by you.", // Text Display Notif
          icon: "https://avatars.githubusercontent.com/u/111125963?v=4", // Icon Display Notif
        }); // create a new notification

        setTimeout(() => {
          notification.close();
        }, 120 * 1000); // close the notification after 60 seconds = 1 minute

        notification.addEventListener("click", () => {
          window.open(
            "https://tamddk.github.io/library/getNotificationInWeb/", // Link Redirect Click
            "_blank" // Target Click New Tabs
          );
        }); // navigate to a URL when clicked

        document.getElementById("notif-sodik").innerHTML = "Active"; // Display in HTML
      };

      _sdk_permissionError = () => {
        alert("Sodik: Access not approved by you."); // Display in Alert
        document.getElementById("notif-sodik").innerHTML = "Denied"; // Display in HTML
      };

      _sdk_run();

      // [open-source] : location:github.com/tamddk/library/tree/main/getNotificationCustomInWeb
    </script>
  </body>
</html>
